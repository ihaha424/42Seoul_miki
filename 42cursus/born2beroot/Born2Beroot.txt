
ğŸŸªê°€ìƒ ë¨¸ì‹ ì˜ ì‘ë™ë°©ì‹ê³¼ ì£¼ëœ ëª©ì 
ê°€ìƒë¨¸ì‹ ì€ ë¬¼ë¦¬ì  ì»´í“¨í„°ì™€ ë™ì¼í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì»´í“¨í„°ì´ë‹¤. ê°€ìƒë¨¸ì‹ ì€ ë¬¼ë¦¬ì  ì»´í“¨í„°ì™€ ë¹„ìŠ·í•˜ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ìš´ì˜ì²´ì œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
ë˜í•œ ì£¼ë¡œ í•˜ì´í¼ ë°”ì´ë²„ë¥¼ í†µí•´ì„œ ì‚¬ìš©ëœë‹¤. í•˜ì´í¼ë°”ì´ì €ëŠ” ê°€ìƒ ë¨¸ì‹ (Virtual Machine, VM)ì„ ìƒì„±í•˜ê³  êµ¬ë™í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì…ë‹ˆë‹¤.
ì£¼ëœ ëª©ì ì€ í˜„ì œ ë‚´ ì»´í“¨í„°ì˜ í™˜ê²½ê³¼ ë‹¤ë¥¸ í™˜ê²½ì—ì„œ ì‘ì—…ì„ í•˜ê³  ì‹¶ê±°ë‚˜ ë³´ì•ˆì ì¸ ë¶€ë¶„ë•Œë¬¸ì— ì‚¬ìš©ì„ í•œë‹¤.

ğŸŸªRockyì™€ Debianì˜ ì°¨ì´ì 
RockyëŠ” CentOSì˜ í›„ì†ìœ¼ë¡œ ê¸°ì—…ì—ì„œ ìœ ë£Œë¡œ ë§Œë“¤ì–´ì„œ ì´ˆì°½ê¸°ì— ì•ˆì •ì„±ì´ ì¢‹ì•„ì„œ ê¸°ì—…ì—ì„œ ë§ì´ ì‚¬ìš©í•¨. ë˜í•œ ìœ ì§€ë³´ìˆ˜ê°€ í¸ë¦¬í•˜ê³  ì—¬ëŸ¬ ìœ í‹¸ë“¤ì´ ì˜ ì œê³µë˜ì–´ ìˆìŒ. 
ë°ë¹„ì•ˆì€ ì˜¨ë¼ì¸ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ë§Œë“¤ì–´ì„œ ì‹ ë¢°ì„±ì´ ë¶€ì¡±í•¨. ê¸°ì—…ê°™ì€ëŒ€ì„  ì˜ ì•ˆì“°ê³ , ì´ì œ ê°œì¸ì ìœ¼ë¡œ ì„œë²„ë¥¼ ê´€ë¦¬í•˜ê±°ë‚˜ ê°œì¸ ê³µë¶€ìš©ìœ¼ë¡œ ì”€. ë˜í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° ì—…ê·¸ë ˆì´ë“œì˜ ë‹¨ìˆœí•¨ì´ ìˆìŒ.
ë‘˜ë‹¤ ì˜¤í”ˆì†ŒìŠ¤ì„ ì§€ê¸ˆ.

ğŸŸª apt,aptitude ë‘˜ë‹¤ ë¦¬ëˆ…ìŠ¤ì˜ í”„ë¡œê·¸ë¨ ì„¤ì¹˜ ë° ì œê±°ì˜ ê¸°ëŠ¥ì„ ê°€ì§„ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ì´ë‹¤.
ë‹¤ë§Œ aptitudeëŠ” GUIë¥¼ ì§€ì›í•´ ì¤€ë‹¤. ë˜í•œ ì˜ì¡´ì„±ì˜ ì°¨ì´ê°€ ìˆê³ , 
ì„¤ì¹˜,ì œê±° ì¤‘ ì¶©ëŒì´ ì¼ì–´ë‚  ê²½ìš° aptëŠ” ê·¸ëƒ¥ ì¢…ë£Œ ë˜ì§€ë§Œ aptitudeëŠ” í•´ê²°ë°©ë²•ì„ ì œì‹œí•œë‹¤.

ğŸŸªAPPArmorëŠ” ì‹œìŠ¤í…œ ê´€ë¦¬ìê°€ í”„ë¡œê·¸ë¨ ì—­ëŸ‰ì„ ì œí•œí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¦¬ëˆ…ìŠ¤ ì»¤ë„ ë³´ì•ˆ ëª¨ë‘˜ì´ë‹¤.
í¬ê²Œ 2ê°€ì§€ ì˜µì…˜ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆëŠ”ë° í•˜ë‚˜ëŠ”(enforce ëª¨ë“œ) í—ˆê°€ë˜ì§€ ì•Šì€ íŒŒì¼ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ê±°ë¶€ í•˜ëŠ” ëª¨ë“œì´ê³ ,
ë‹¤ë¥¸ í•˜ë‚˜ëŠ”(complain ëª¨ë“œ) ì‹¤ì§ˆì ìœ¼ë¡œ ë³´ì•ˆì„ ì œê³µí•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‚˜ ë‹¤ë¥¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ í•´ì•¼í•  í–‰ë™ì´ ì•„ë‹Œ ë‹¤ë¥¸ í–‰ë™ì„ í•˜ëŠ” ê²½ìš° ë¡œê·¸ë¥¼ ë‚¨ê²¨ì¤€ë‹¤.(ì¤‘ì§€í•˜ì§„ ì•ŠìŒ)
MAC(ê°•ë ¥ì ‘ê·¼í†µì œ)ì˜ êµ¬í˜„ìœ¼ë¡œ DAC(ì„ì˜ì  ì ‘ê·¼ í†µì œ ë°©ì‹)ì˜ ì ‘ê·¼ ì œì–´ë¥¼ ë³´ì™„í•œë‹¤.

ğŸŸª
ê·¸ë˜í”½->ì—†ìŒ
ë¹„ë°€ë²ˆí˜¸ -> 123QWEasdzxc(ê¸¸ì´ 10ì ì´ìƒ, ëŒ€ë¬¸ì, ìˆ«ì í¬í•¨, ê°™ì€ ë¬¸ì ìµœëŒ€ 3ë²ˆ)
	-> sudo vim /etc/pam.d/common-password
	-> sudo vim /etc/login.defs
ufw service ê°€ ì‹¤í–‰ë˜ì—ˆëŠ”ê°€ ? â†’ sudo ufw status
ssh service ê°€ ì‹¤í–‰ë˜ì—ˆëŠ”ê°€ ? â†’ systemctl status ssh
osê°€ debianì¸ê°€  â†’ uname -a

ğŸŸª
ê·¸ë£¹ì— ì†í•´ ìˆëŠ”ì§€? -> id -Gn dongmiki
ìƒˆë¡œìš´ ìœ ì € ë§Œë“¤ê¸° sudo adduser <NEW_USER>
ê·¸ë£¹ ë§Œë“¤ê³  ì¶”ê°€í•˜ê¸°  -> sudo groupadd <GROUP_NAME>  -> sudo usermod -aG <GROUP_NAME> <NEW_USER>
ì•”í˜¸ì •ì±…ì˜ ì¥ì : ë³´ì™„ì´ ê°•ë ¥í•´ì§„ë‹¤. ë‹¨ì : ë¹„ë°€ë²ˆí˜¸ë¥¼ ìì£¼ ê¹Œë¨¹ì„ ìˆ˜ë„ ìˆê³  ì‹¤ì œë¡œ ë³´ì•ˆì´ ë§ì´ í–¥ìƒë˜ëŠ” ê²ƒì€ dongmiki. ->. d0ngMiki ì´ëŸ°ì‹ì˜ ë³€í™”ë¥¼ ì›í•œ ê²ƒì´ì—¬ì„œ ìš°ë¦¬ê°€ ë°”ê¾¸ëŠ” ëŒ€ë¶€ë¶„ì˜ ë°©ì‹ë“¤ì€ í¬ê²Œ íš¨ìœ¨ì´ ë›°ì–´ë‚˜ì§€ëŠ” ì•Šì€ í•œê³„ê°€ ìˆë‹¤.
ì•”í˜¸ ì •ì±…ì˜ ì¥ì  ì‚¬ì´íŠ¸
https://www.sedaily.com/NewsView/263I5TGRSX

ğŸŸª
ì´ë¦„ í™•ì¸: hostnamectl
ì´ë¦„ ë³€ê²½: sudo hostnamectl set-hostname <HOST_NAME>    -> sudo reboot
íŒŒí‹°ì…˜ í™•ì¸: lsblk
	->root: ë£¨íŠ¸ ì €ì¥ê³µê°„ìœ¼ë¡œ /usr, /tmp, /varë“±ì´ ìˆë‹¤.
	swap: RAM ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•  ê²½ìš° ëŒì–´ ì˜¬ë¼ê°€ì„œ ì‚¬ìš© í•˜ëŠ” ê²ƒ.
	home: ì‚¬ìš©ìì˜ í™ˆ ë””ë ‰í„°ë¦¬ ë° ë°ì´íƒ€ê°€ ìœ„ì¹˜í•˜ëŠ” íŒŒí‹°ì…˜ì´ë‹¤.
	var: ë³€ê²½ì´ ê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨
	srv: ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨
	tmp: ì»´í“¨í„° ì‚¬ìš©ì‹œ ë“¤ì–´ê°€ëŠ” ì„ì‹œ ìƒì„± íŒŒì¼ë“¤
	var--log: varí”„ë¡œê·¸ë¨ ì‚¬ìš©ì‹œ ë¡œê·¸
 LVMì€ Logical Volume Manageë¡œ ë…¼ë¦¬ ë³¼ë¥¨ ê´€ë¦¬ì ì´ë‹¤. ì‹¤ì œ í•˜ë“œë””ìŠ¤í¬ì˜ ê³µê°„ì„ ë…¼ë¦¬ì  ê³µê°„ìœ¼ë¡œ ì˜®ê²¨ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒ.
ì—¬ëŸ¬ê°œì˜ í•˜ë“œë””ìŠ¤í¬ ê³µê°„ì„ í•©ì³ì„œ í•˜ë‚˜ì˜ ë””ìŠ¤í¬ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆê³  ê¸°ì¡´ì— ì‚¬ìš©ì¤‘ì¸ ë””ìŠ¤í¬ì˜ ê³µê°„ì„ ììœ ë¡­ê²Œ í™•ì¥í•  ìˆ˜ ìˆë‹¤. ë˜í•œ partitionsì˜ ì• ë§¤í•œ ê³µê°„ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.
LVMì˜ ë‹¨ìœ„
ë¬¼ë¦¬ì  ë³¼ë¥¨ / PV (Physical Volume)
	- ì‹¤ì œ ë””ìŠ¤í¬ ì¥ì¹˜ë¥¼ ë¶„í• í•œ íŒŒí‹°ì…˜ëœ ìƒíƒœë¥¼ì˜ë¯¸í•œë‹¤.
	- PVëŠ” ì¼ì •í•œ í¬ê¸°ì˜ PEë“¤ë¡œ êµ¬ì„±ëœë‹¤.
ë¬¼ë¦¬ì  í™•ì¥ / PE (Physical Extent)
	- PVë¥¼ êµ¬ì„±í•˜ëŠ” ì¼ì •í•œ í¬ê¸°ì˜ Block.
	- ë³´í†µ 1PEëŠ” 4MBì— í•´ë‹¹í•œë‹¤.
	- PEì™€ LEëŠ” 1:1ë¡œ ëŒ€ì‘í•œë‹¤.
ë³¼ë¥¨ ê·¸ë£¹ / VG (Volume Group)
	- PVë“¤ì´ ëª¨ì—¬ì„œ ìƒì„±ë˜ëŠ” ë‹¨ìœ„ì´ë‹¤. (ëª¨ë“ ê±¸ í•©ì¹œ ê±°ëŒ€í•œ ì§€ì í†  ë©ì–´ë¦¬ì˜ ëŠë‚Œì´ë‹¤)
	- ì‚¬ìš©ìëŠ” VGë¥¼ ì›í•˜ëŠ”ëŒ€ë¡œ ìª¼ê°œì„œ LVë¡œ ë§Œë“¤ê²Œ ëœë‹¤.
ë…¼ë¦¬ì  ë³¼ë¥¨ / LV (Logical Volume)
	- ì‚¬ìš©ìê°€ ìµœì¢…ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë‹¨ìœ„ë¡œ, VGì—ì„œ í•„ìš”í•œ í¬ê¸°ë¡œ í• ë‹¹ë°›ì•„ LVë¥¼ ìƒì„±í•œë‹¤.

ğŸŸª
sudo ì„¤ì¹˜í™•ì¸ -> sudo - - version
sudoì— í• ë‹¹ -> sudo usermod -aG sudo <NEW_USER>
sudo ì‚¬ìš©ì˜ ì¥ì  : 
	rootì˜ ê¶Œí•œì„ ë¹Œë ¤ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
	sudoì˜ logê°€ ë‚¨ì•„ ì–´ë–¤ ì¼ì„ í–ˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤. 
	rootì—ì„œ ìœ„í—˜í•œ commandë¥¼ í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. 
	ë‚¨ì—ê²Œ ë³´ì—¬ì¤„ë•Œ sudoë¥¼ ì“°ë©´ ìœ„í—˜ì— ë…¸ì¶œ ë  ì¼ì´ ì ë‹¤.
sudoê·œì¹™ ì„¤ì • sudo visudo
/var/log/sudo/ í´ë”ì— í•œê°œ ì´ìƒì˜ íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ê°€ ? â†’ sudo ls /var/log/sudo
sudo ëª…ë ¹ì–´ ì‹¤í–‰ í›„ ë¡œê·¸íŒŒì¼ì´ ì—…ë°ì´íŠ¸ ë˜ì—ˆëŠ”ê°€ ? â†’ sudo apt upadate, sudo ls /var/log/sudo/00/00 ì¶”ê°€ëœ íŒŒì¼ í™•ì¸.

Defaults        secure_path="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"
	// ë³´ì•ˆì„ ìœ„í•´ secure_path(sudoê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²½ë¡œ)ë¥¼ ì œí•œí•˜ë¼
Defaults        passwd_tries=3
	// ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” passwordì¸ ê²½ìš° ì…ë ¥ì€ 3íšŒë¡œ ì œí•œí•˜ë¼
Defaults        authfail_message="Authentication faliure!"
	// Authentication íšë“ ì‹¤íŒ¨ ì‹œ ì¶œë ¥ë˜ëŠ” error ë©”ì‹œì§€
Defaults        badpass_message="Password is wrong!"
	// passwordê°€ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²½ìš° ì¶œë ¥ë˜ëŠ” error ë©”ì‹œì§€
Defaults        iolog_dir="/var/log/sudo"
	// log(input, output)ì˜ ì €ì¥ì„ í•´ë‹¹ ë””ë ‰í† ë¦¬ì— í•˜ë¼
Defaults        log_input
	// sudo ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œ ì…ë ¥ëœ ëª…ë ¹ì–´ë¥¼ iolog_dirì— logë¡œ ì €ì¥í•˜ë¼
Defaults        log_output
	// sudo ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œ ì¶œë ¥ ê²°ê³¼ë¥¼ iolog_dirì— logë¡œ ì €ì¥í•˜ë¼
Defaults        requiretty
	// sudo ëª…ë ¹ì–´ê°€ tty(ì½˜ì†”, í„°ë¯¸ë„) ì™¸ë¶€(cron)ì—ì„œ ì‹¤í–‰ë˜ì§€ ì•Šë„ë¡í•˜ë¼

ğŸŸª
ufw ì„¤ì¹˜ì—¬ë¶€ í™•ì¸ â†’ sudo ufw  - -version
ufw ì‘ë™ì—¬ë¶€ í™•ì¸ â†’ sudo ufw status
ufw status verbose(ê¸°ë³¸ê°’ í™•ì¸)
ufw ì„¤ëª…, ì‚¬ìš©í•˜ëŠ”ì´ìœ  â†’ ëª¨ì•ˆ ëª¨ë“ˆë¡œ ë°©í™”ë²½ì´ë¼ê³ ë„ í•˜ê³ , ì™¸ë¶€ ì¹¨ì…ìê°€ ë‚´ë¶€ networkì— ì¹¨ì…í•˜ëŠ” ê²½ìš°ë¥¼ ë§‰ê¸°ìœ„í•´ UFWë¥¼ ì‚¬ìš©í•œë‹¤. 
ufw ì¶”ê°€ sudo ufw allow <Port_NUM>.  /.  ì œê±° sudo delete allow <Port_NUM>

ğŸŸª
ssh í¬íŠ¸ì„¤ì •, ë£¨íŠ¸ ê¶Œí•œ -> vim /etc/ssh/sshd_config
ssh ì„¤ì¹˜ì—¬ë¶€ í™•ì¸ â†’ sudo ssh -V
ssh ì‘ë™ì—¬ë¶€ í™•ì¸ â†’ systemctl status ssh
ssh ì‚¬ìš©í•˜ëŠ” ì´ìœ , ì„¤ëª… â†’ sshëŠ” ì›ê²©ìœ¼ë¡œ í˜¸ìŠ¤íŠ¸(Shell)ì— ì ‘ì†í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ë³´ì•ˆ í”„ë¡œí† ì½œì´ë‹¤. ëª¨ë“  ë°ì´í„°ëŠ” ì•”í˜¸í™”ê°€ ë³´ì¥ëœë‹¤. 
SSHëŠ” í•œìŒì˜ key (public key ê³µê°œí‚¤ / private key ê°œì¸í‚¤)ë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì•”í˜¸í™”/ë³µí˜¸í™” í•˜ëŠ”ë° ê°œì¸í‚¤ëŠ” í´ë¼ì´ì–¸íŠ¸, ê³µê°œí‚¤ëŠ” í˜¸ìŠ¤íŠ¸ê°€ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤. 
SSH ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ì—­ì‹œ ë³´ì•ˆì´ ëœë‹¤ëŠ” ì¥ì  ë•ë¶„ì´ë‹¤.
í„°ë¯¸ë„ì—ì„œ ssh <USER_NAME>@localhost -p 4242
ë£¨íŠ¸ë¡œ ì•ˆí•˜ëŠ” ì´ìœ : sudoì™€ ë¹„ìŠ·í•œë° ë£¨íŠ¸ë¡œ ì ‘ì†í•  ê²½ìš° ì–´ëŠ ì‚¬ìš©ìê°€ í–ˆëŠ”ì§€ ë¡œê·¸ë¥¼ ì•Œ ìˆ˜ ì—†ë‹¤(rootë¡œ ëœ¨ê¸° ë•Œë¬¸)


ğŸŸª
cronì´ë€? ->  íŠ¹ì •ì‘ì—…ì„ íŠ¹ì •ì‹œê°„ì— ìë™ìœ¼ë¡œ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•œ ì‹œê°„ê¸°ë°˜í˜• ë°ëª¬ì´ë‹¤. ë˜í•œ cronì€ crontabì´ë¼ëŠ” ì„¤ì • íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ë™í•œë‹¤.
crontab -e
*/10 * * * * /root/monitoring.sh | wall
wall ëª…ë ¹ì–´ëŠ” ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©ìì˜ í„°ë¯¸ë„ë¡œ ë©”ì„¸ì§€ë¥¼ ë³´ë‚´ëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.
ë©ˆì¶”ê¸° â†’ sudo /etc/init.d/cron stop
ì‹œì‘ â†’ sudo /etc/init.d/cron start
rebootì‹œ cron ìë™ì‹¤í–‰ ì¤‘ë‹¨ â†’ sudo systemctl disable cron
30ì´ˆë§ˆë‹¤ ì‹¤í–‰ â†’ sudo crontab -e â†’ * * * * * /root/monitoring.sh | wall í•œì¤„, * * * * * sleep 30; 
 *   *   *   *   * /monitoring.sh
ë¶„,ì‹œ,ì¼,ì›” ,ìš”ì¼

ğŸŸªLighttpd,PHP,mariaDBë¥¼ í†µí•´ì„œ ìƒˆë¡œìš´ ì›¹í˜ì´ì§€ ì—°ë™
systemctl stop lighttpd.service
systemctl start lighttpd.service
systemctl enable lighttpd.service
systemctl status lighttpd

http://localhost:8080/info.php
